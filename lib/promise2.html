<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script src="Promise.js"></script>
<script>
//    const p= new Promise((resolve,reject)=>{
//         resolve(1);//value
//         // reject(2);//reason
//         // setTimeout(()=>{
//         //     resolve(1);//value
//         //     console.log('改变状态之后')
//         // },100)
//     })
//     p.then(
//         value=>{
//             console.log('onResolved1',value)
//         },
//         reason=>{
//             console.log('onReject1',reason)

//         }
//     )
//     p.then(
//         value=>{
//             console.log('onResolved2',value)
//         },
//         reason=>{
//             console.log('onReject2',reason)

//         }
//     )


// const p= new Promise((resolve,reject)=>{
//         setTimeout(()=>{
//             reject(2)
//         },100)
//     })
//     .then(
//         value=>{
//             console.log('--------------------onResolved1',value)
//         },
//         reason=>{
//             console.log('--------------------onReject1',reason)
//             // return 3
//             // throw 4
//             return new Promise((resolve,reject)=>reject(5))
//         }
//     )
//     .then(
//         value=>{
//             console.log('--------------------onResolved2',value)
//         },
//         reason=>{
//             console.log('--------------------onReject2',reason)

//         }
//     ).catch(
//         reason=>{
//             console.log('--------------------onReject3',reason)

//         }
//     )

    // var a='222';
    // function f1(name){
    //     console.log(name)
    // }
    // f1(a)


//     // Promise.resolve(3) 参数是一般值
const p1=Promise.resolve(2);//如果是一般值，p1成功，value就是这个值
const p2=Promise.resolve(Promise.resolve(3));//如果是成功是promise，p2成功，value是这个promise的value
const p3=Promise.resolve(Promise.reject(4));//如果是失败是promise，p3失败，reason是这个promise的reason
// p1.then(value=>{console.log('p1',value)})
// p2.then(value=>{console.log('p2',value)})
// p3.then(value=>{console.log('p3',p3)},reason=>{console.log('catchp3',reason)})

const p4=new Promise((resolve,reject)=>{
    setTimeout(()=>{
        resolve(5)
    },1000)
})
// const pAll=Promise.all([p4,p1,p2])//参数 arrlist
// pAll.then(
//     values=>{//values数组的排列顺序与arrlist一致
//         console.log('all onResolved1',values)
//     },
//     reason=>{
//         console.log('all onRejected1',reason)
//     }
// )

// const pRace=Promise.race([p2,p1,p3,7])//同步的返回结果看list的顺序？
// pRace.then(
//     value=>{
//         console.log('race onResolved1',value)
//     },
//     reason=>{
//         console.log('race onRejected1',reason)
//     }
// )


const p6=Promise.resolveDelay(66,2000)
const p7=Promise.rejectDelay(77,3000)
p6.then(value=>{console.log('p6',value)})
p7.catch(reason=>{console.log('p7',reason)})
</script>